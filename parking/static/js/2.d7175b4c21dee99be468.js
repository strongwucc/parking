webpackJsonp([2],{I328:function(t,i){},MmNt:function(t,i,e){t.exports=e.p+"static/img/banner@2x.0c147ff.png"},"hxF+":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAeUlEQVRIS+2XwQrAMAhD549tp/rRetp+zCFs95AORiG99GIUnwFb28gTEWdL3f1gUhgjak1mVt9jDCoHJVJhZlxCDVOTq2FUT6DMBRNb11y9Zcxsh1v9ILCqLvutMNvAujNWxygBzRgl9cZpScDEZC4Y1bIvkNlP2w1iQ339Ry8bggAAAABJRU5ErkJggg=="},"lyB/":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("Dd8w"),s=e.n(n),c=e("NYxO"),r=e("1WYs"),o=(r.default,s()({},Object(c.c)({parkingRules:function(t){return t.common.common_data.parking_rule}}),{queryActive:function(){for(var t=!0,i=0;i<7;i++)if(""===this.licence[i]){t=!1;break}return t}}),s()({},Object(c.b)(["set_user_info","set_parking_info","set_parking_rule"]),{switchElectric:function(){this.electric=!0,this.showKeyboard(7)},licenceCompleted:function(t){return!(!1===this.electric&&this.puttingIndex>6)&&(!(this.electric&&this.puttingIndex>7)&&(this.licence[this.puttingIndex]=t,void(!1===this.electric&&this.puttingIndex<=5?this.puttingIndex+=1:this.electric&&this.puttingIndex<=6&&(this.puttingIndex+=1))))},hideKeyboard:function(){this.licenceViewVisible=!1},showKeyboard:function(t){this.puttingIndex=t,this.licenceViewVisible=!0},rollBack:function(){""!==this.licence[this.puttingIndex]?this.licence[this.puttingIndex]="":this.puttingIndex>0&&(this.puttingIndex-=1,this.licence[this.puttingIndex]="")},initQuery:function(){var t=this;this.$http.post(this.API.queryParkingRule,{parkingId:this.parkingId}).then(function(i){"0000"===i.return_code?t.set_parking_rule(i.data):t.$vux.toast.show({type:"text",text:"停车场信息查询失败",width:"200px",position:"middle"})})},doQuery:function(){var t=this;if(this.querying)return!1;if(!1===this.queryActive)return!1;this.$vux.loading.show({text:"查询中"}),this.querying=!0;for(var i="",e=0;e<=7;e++)i+=this.licence[e];this.$http.post(this.API.queryMyCarFee,{carNo:i}).then(function(i){if(t.$vux.loading.hide(),t.querying=!1,"0000"===i.return_code){var e=i.data;t.set_parking_info(e),t.$router.push("/pay")}else t.$vux.toast.show({type:"text",text:"未查询到您的停车订单",width:"200px",position:"middle"})})}}),{name:"home",components:{Keyboard:r.default},inject:["reload"],data:function(){return{parkingId:"",puttingIndex:0,electric:!1,licenceViewVisible:!1,licence:{0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:""},querying:!1}},computed:s()({},Object(c.c)({parkingRules:function(t){return t.common.common_data.parking_rule}}),{queryActive:function(){for(var t=!0,i=0;i<7;i++)if(""===this.licence[i]){t=!1;break}return t}}),watch:{},created:function(){var t={};this.$route.query.memberId&&(t.memberId=this.$route.query.memberId),this.$route.query.point&&(t.point=this.$route.query.point),this.set_user_info(t),this.$route.query.parkingId&&(this.parkingId=this.$route.query.parkingId,this.initQuery())},mounted:function(){},destroyed:function(){},methods:s()({},Object(c.b)(["set_user_info","set_parking_info","set_parking_rule"]),{switchElectric:function(){this.electric=!0,this.showKeyboard(7)},licenceCompleted:function(t){return!(!1===this.electric&&this.puttingIndex>6)&&(!(this.electric&&this.puttingIndex>7)&&(this.licence[this.puttingIndex]=t,void(!1===this.electric&&this.puttingIndex<=5?this.puttingIndex+=1:this.electric&&this.puttingIndex<=6&&(this.puttingIndex+=1))))},hideKeyboard:function(){this.licenceViewVisible=!1},showKeyboard:function(t){this.puttingIndex=t,this.licenceViewVisible=!0},rollBack:function(){""!==this.licence[this.puttingIndex]?this.licence[this.puttingIndex]="":this.puttingIndex>0&&(this.puttingIndex-=1,this.licence[this.puttingIndex]="")},initQuery:function(){var t=this;this.$http.post(this.API.queryParkingRule,{parkingId:this.parkingId}).then(function(i){"0000"===i.return_code?t.set_parking_rule(i.data):t.$vux.toast.show({type:"text",text:"停车场信息查询失败",width:"200px",position:"middle"})})},doQuery:function(){var t=this;if(this.querying)return!1;if(!1===this.queryActive)return!1;this.$vux.loading.show({text:"查询中"}),this.querying=!0;for(var i="",e=0;e<=7;e++)i+=this.licence[e];this.$http.post(this.API.queryMyCarFee,{carNo:i}).then(function(i){if(t.$vux.loading.hide(),t.querying=!1,"0000"===i.return_code){var e=i.data;t.set_parking_info(e),t.$router.push("/pay")}else t.$vux.toast.show({type:"text",text:"未查询到您的停车订单",width:"200px",position:"middle"})})}})}),a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"home-page",on:{click:function(i){return i.stopPropagation(),t.hideKeyboard(i)}}},[t._m(0),t._v(" "),e("div",{staticClass:"search-area"},[e("div",{staticClass:"notice"},[t._v("请输入车牌号码")]),t._v(" "),e("div",{staticClass:"sub-notice"},[t._v("例如：沪A12345")]),t._v(" "),e("div",{staticClass:"numbers"},[e("ul",[e("li",{class:{cur:0===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(0)}}},[t._v(t._s(t.licence[0]))]),t._v(" "),e("li",{class:{cur:1===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(1)}}},[t._v(t._s(t.licence[1]))]),t._v(" "),e("li",{class:{cur:2===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(2)}}},[t._v(t._s(t.licence[2]))]),t._v(" "),e("li",{class:{cur:3===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(3)}}},[t._v(t._s(t.licence[3]))]),t._v(" "),e("li",{class:{cur:4===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(4)}}},[t._v(t._s(t.licence[4]))]),t._v(" "),e("li",{class:{cur:5===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(5)}}},[t._v(t._s(t.licence[5]))]),t._v(" "),e("li",{class:{cur:6===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(6)}}},[t._v(t._s(t.licence[6]))]),t._v(" "),!1===t.electric?e("li",{staticClass:"electric",on:{click:function(i){return i.stopPropagation(),t.switchElectric(i)}}},[t._m(1),t._v(" "),e("div",{staticClass:"add-notice"},[t._v("新能源")])]):e("li",{class:{cur:7===t.puttingIndex},on:{click:function(i){i.stopPropagation(),t.showKeyboard(7)}}},[t._v(t._s(t.licence[7]))])])]),t._v(" "),e("div",{staticClass:"rule-notice"},[t._v("停车费")]),t._v(" "),e("div",{staticClass:"rule-content"},[e("ul",[e("li",[e("span",{staticClass:"rule-icon"}),e("span",[t._v("首"),e("span",{staticClass:"red"},[t._v(t._s(t.parkingRules.freehours))]),t._v("小时内免费，超出部分"),e("span",{staticClass:"red"},[t._v(t._s(t.parkingRules.moneyEachHour))]),t._v("元/小时")])]),t._v(" "),e("li",[e("span",{staticClass:"rule-icon"}),e("span",[e("span",{staticClass:"red"},[t._v(t._s(t.parkingRules.integralDeductionEachHour))]),t._v("积分＝1小时")])])])])]),t._v(" "),e("div",{staticClass:"action-area",class:{"query-active":t.queryActive},on:{click:function(i){return i.stopPropagation(),t.doQuery(i)}}},[t._v("立即查询")]),t._v(" "),e("keyboard",{attrs:{electric:t.electric,"putting-index":t.puttingIndex,visible:t.licenceViewVisible},on:{finishPutting:t.hideKeyboard,licenceCompleted:t.licenceCompleted,rollBack:t.rollBack}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"background"},[i("img",{attrs:{src:e("MmNt")}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"add-icon"},[i("img",{attrs:{src:e("hxF+")}})])}]};var u=e("VU/8")(o,a,!1,function(t){e("I328")},"data-v-20a755f9",null);i.default=u.exports}});
//# sourceMappingURL=2.d7175b4c21dee99be468.js.map